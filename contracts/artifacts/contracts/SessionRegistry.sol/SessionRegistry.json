{
  "_format": "hh-sol-artifact-1",
  "contractName": "SessionRegistry",
  "sourceName": "contracts/SessionRegistry.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "publicKeyHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "proofHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        }
      ],
      "name": "SessionCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "SessionExpired",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "SESSION_DURATION",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "publicKeyHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "journal",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "seal",
          "type": "bytes"
        }
      ],
      "name": "createSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "expireSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getSession",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "publicKeyHash",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "proofHash",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "expiry",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "active",
              "type": "bool"
            }
          ],
          "internalType": "struct SessionRegistry.Session",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "isSessionValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "sessions",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "publicKeyHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "proofHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "usedProofs",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610e82806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c806367826dd31161005b57806367826dd3146101035780638c8e13b91461010d578063c30a0f251461013d578063ca42c3431461016d5761007d565b80633deaa34114610082578063431a1b97146100a057806364256802146100d3575b600080fd5b61008a610189565b604051610097919061077e565b60405180910390f35b6100ba60048036038101906100b59190610801565b610190565b6040516100ca9493929190610862565b60405180910390f35b6100ed60048036038101906100e89190610801565b6101cd565b6040516100fa91906108a7565b60405180910390f35b61010b610270565b005b61012760048036038101906101229190610801565b61039d565b6040516101349190610944565b60405180910390f35b6101576004803603810190610152919061098b565b61042e565b60405161016491906108a7565b60405180910390f35b61018760048036038101906101829190610a1d565b61044e565b005b6201518081565b60006020528060005260406000206000915090508060000154908060010154908060020154908060030160009054906101000a900460ff16905084565b6000806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060800160405290816000820154815260200160018201548152602001600282015481526020016003820160009054906101000a900460ff1615151515815250509050806060015180156102685750806040015142105b915050919050565b6000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff166102fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102f590610b0f565b60405180910390fd5b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160006101000a81548160ff0219169083151502179055503373ffffffffffffffffffffffffffffffffffffffff167f3b62ee79c69a0099e3b2712da37539165a9eaa4a31a28f5c3097a87c1554d12c60405160405180910390a2565b6103a5610735565b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060800160405290816000820154815260200160018201548152602001600282015481526020016003820160009054906101000a900460ff1615151515815250509050919050565b60016020528060005260406000206000915054906101000a900460ff1681565b6000801b8503610493576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048a90610b7b565b60405180910390fd5b600082829050116104d9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104d090610be7565b60405180910390fd5b6020848490501015610520576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051790610c53565b60405180910390fd5b6000848484846040516020016105399493929190610cb2565b6040516020818303038152906040528051906020012090506001600082815260200190815260200160002060009054906101000a900460ff16156105b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105a990610d26565b60405180910390fd5b600060019050806105f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ef90610d92565b60405180910390fd5b600062015180426106099190610de1565b90506040518060800160405280898152602001848152602001828152602001600115158152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000155602082015181600101556040820151816002015560608201518160030160006101000a81548160ff021916908315150217905550905050600180600085815260200190815260200160002060006101000a81548160ff0219169083151502179055503373ffffffffffffffffffffffffffffffffffffffff167fc6bd02e437c69e657c4bcec538ae72d6958ea58604eb4b5a6cba826facd622c589858460405161072393929190610e15565b60405180910390a25050505050505050565b60405180608001604052806000801916815260200160008019168152602001600081526020016000151581525090565b6000819050919050565b61077881610765565b82525050565b6000602082019050610793600083018461076f565b92915050565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006107ce826107a3565b9050919050565b6107de816107c3565b81146107e957600080fd5b50565b6000813590506107fb816107d5565b92915050565b60006020828403121561081757610816610799565b5b6000610825848285016107ec565b91505092915050565b6000819050919050565b6108418161082e565b82525050565b60008115159050919050565b61085c81610847565b82525050565b60006080820190506108776000830187610838565b6108846020830186610838565b610891604083018561076f565b61089e6060830184610853565b95945050505050565b60006020820190506108bc6000830184610853565b92915050565b6108cb8161082e565b82525050565b6108da81610765565b82525050565b6108e981610847565b82525050565b60808201600082015161090560008501826108c2565b50602082015161091860208501826108c2565b50604082015161092b60408501826108d1565b50606082015161093e60608501826108e0565b50505050565b600060808201905061095960008301846108ef565b92915050565b6109688161082e565b811461097357600080fd5b50565b6000813590506109858161095f565b92915050565b6000602082840312156109a1576109a0610799565b5b60006109af84828501610976565b91505092915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126109dd576109dc6109b8565b5b8235905067ffffffffffffffff8111156109fa576109f96109bd565b5b602083019150836001820283011115610a1657610a156109c2565b5b9250929050565b600080600080600060608688031215610a3957610a38610799565b5b6000610a4788828901610976565b955050602086013567ffffffffffffffff811115610a6857610a6761079e565b5b610a74888289016109c7565b9450945050604086013567ffffffffffffffff811115610a9757610a9661079e565b5b610aa3888289016109c7565b92509250509295509295909350565b600082825260208201905092915050565b7f4e6f206163746976652073657373696f6e000000000000000000000000000000600082015250565b6000610af9601183610ab2565b9150610b0482610ac3565b602082019050919050565b60006020820190508181036000830152610b2881610aec565b9050919050565b7f496e76616c6964207075626c6963206b65792068617368000000000000000000600082015250565b6000610b65601783610ab2565b9150610b7082610b2f565b602082019050919050565b60006020820190508181036000830152610b9481610b58565b9050919050565b7f456d707479207365616c00000000000000000000000000000000000000000000600082015250565b6000610bd1600a83610ab2565b9150610bdc82610b9b565b602082019050919050565b60006020820190508181036000830152610c0081610bc4565b9050919050565b7f496e76616c6964206a6f75726e616c0000000000000000000000000000000000600082015250565b6000610c3d600f83610ab2565b9150610c4882610c07565b602082019050919050565b60006020820190508181036000830152610c6c81610c30565b9050919050565b600081905092915050565b82818337600083830152505050565b6000610c998385610c73565b9350610ca6838584610c7e565b82840190509392505050565b6000610cbf828688610c8d565b9150610ccc828486610c8d565b915081905095945050505050565b7f50726f6f6620616c726561647920757365640000000000000000000000000000600082015250565b6000610d10601283610ab2565b9150610d1b82610cda565b602082019050919050565b60006020820190508181036000830152610d3f81610d03565b9050919050565b7f496e76616c6964207a6b564d2070726f6f660000000000000000000000000000600082015250565b6000610d7c601283610ab2565b9150610d8782610d46565b602082019050919050565b60006020820190508181036000830152610dab81610d6f565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610dec82610765565b9150610df783610765565b9250828201905080821115610e0f57610e0e610db2565b5b92915050565b6000606082019050610e2a6000830186610838565b610e376020830185610838565b610e44604083018461076f565b94935050505056fea264697066735822122076b4ab63c510b7ecc1b11a6ae832434b55125d7c701982fb941f9ae500b00b9364736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c806367826dd31161005b57806367826dd3146101035780638c8e13b91461010d578063c30a0f251461013d578063ca42c3431461016d5761007d565b80633deaa34114610082578063431a1b97146100a057806364256802146100d3575b600080fd5b61008a610189565b604051610097919061077e565b60405180910390f35b6100ba60048036038101906100b59190610801565b610190565b6040516100ca9493929190610862565b60405180910390f35b6100ed60048036038101906100e89190610801565b6101cd565b6040516100fa91906108a7565b60405180910390f35b61010b610270565b005b61012760048036038101906101229190610801565b61039d565b6040516101349190610944565b60405180910390f35b6101576004803603810190610152919061098b565b61042e565b60405161016491906108a7565b60405180910390f35b61018760048036038101906101829190610a1d565b61044e565b005b6201518081565b60006020528060005260406000206000915090508060000154908060010154908060020154908060030160009054906101000a900460ff16905084565b6000806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060800160405290816000820154815260200160018201548152602001600282015481526020016003820160009054906101000a900460ff1615151515815250509050806060015180156102685750806040015142105b915050919050565b6000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff166102fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102f590610b0f565b60405180910390fd5b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160006101000a81548160ff0219169083151502179055503373ffffffffffffffffffffffffffffffffffffffff167f3b62ee79c69a0099e3b2712da37539165a9eaa4a31a28f5c3097a87c1554d12c60405160405180910390a2565b6103a5610735565b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060800160405290816000820154815260200160018201548152602001600282015481526020016003820160009054906101000a900460ff1615151515815250509050919050565b60016020528060005260406000206000915054906101000a900460ff1681565b6000801b8503610493576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048a90610b7b565b60405180910390fd5b600082829050116104d9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104d090610be7565b60405180910390fd5b6020848490501015610520576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051790610c53565b60405180910390fd5b6000848484846040516020016105399493929190610cb2565b6040516020818303038152906040528051906020012090506001600082815260200190815260200160002060009054906101000a900460ff16156105b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105a990610d26565b60405180910390fd5b600060019050806105f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ef90610d92565b60405180910390fd5b600062015180426106099190610de1565b90506040518060800160405280898152602001848152602001828152602001600115158152506000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000155602082015181600101556040820151816002015560608201518160030160006101000a81548160ff021916908315150217905550905050600180600085815260200190815260200160002060006101000a81548160ff0219169083151502179055503373ffffffffffffffffffffffffffffffffffffffff167fc6bd02e437c69e657c4bcec538ae72d6958ea58604eb4b5a6cba826facd622c589858460405161072393929190610e15565b60405180910390a25050505050505050565b60405180608001604052806000801916815260200160008019168152602001600081526020016000151581525090565b6000819050919050565b61077881610765565b82525050565b6000602082019050610793600083018461076f565b92915050565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006107ce826107a3565b9050919050565b6107de816107c3565b81146107e957600080fd5b50565b6000813590506107fb816107d5565b92915050565b60006020828403121561081757610816610799565b5b6000610825848285016107ec565b91505092915050565b6000819050919050565b6108418161082e565b82525050565b60008115159050919050565b61085c81610847565b82525050565b60006080820190506108776000830187610838565b6108846020830186610838565b610891604083018561076f565b61089e6060830184610853565b95945050505050565b60006020820190506108bc6000830184610853565b92915050565b6108cb8161082e565b82525050565b6108da81610765565b82525050565b6108e981610847565b82525050565b60808201600082015161090560008501826108c2565b50602082015161091860208501826108c2565b50604082015161092b60408501826108d1565b50606082015161093e60608501826108e0565b50505050565b600060808201905061095960008301846108ef565b92915050565b6109688161082e565b811461097357600080fd5b50565b6000813590506109858161095f565b92915050565b6000602082840312156109a1576109a0610799565b5b60006109af84828501610976565b91505092915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126109dd576109dc6109b8565b5b8235905067ffffffffffffffff8111156109fa576109f96109bd565b5b602083019150836001820283011115610a1657610a156109c2565b5b9250929050565b600080600080600060608688031215610a3957610a38610799565b5b6000610a4788828901610976565b955050602086013567ffffffffffffffff811115610a6857610a6761079e565b5b610a74888289016109c7565b9450945050604086013567ffffffffffffffff811115610a9757610a9661079e565b5b610aa3888289016109c7565b92509250509295509295909350565b600082825260208201905092915050565b7f4e6f206163746976652073657373696f6e000000000000000000000000000000600082015250565b6000610af9601183610ab2565b9150610b0482610ac3565b602082019050919050565b60006020820190508181036000830152610b2881610aec565b9050919050565b7f496e76616c6964207075626c6963206b65792068617368000000000000000000600082015250565b6000610b65601783610ab2565b9150610b7082610b2f565b602082019050919050565b60006020820190508181036000830152610b9481610b58565b9050919050565b7f456d707479207365616c00000000000000000000000000000000000000000000600082015250565b6000610bd1600a83610ab2565b9150610bdc82610b9b565b602082019050919050565b60006020820190508181036000830152610c0081610bc4565b9050919050565b7f496e76616c6964206a6f75726e616c0000000000000000000000000000000000600082015250565b6000610c3d600f83610ab2565b9150610c4882610c07565b602082019050919050565b60006020820190508181036000830152610c6c81610c30565b9050919050565b600081905092915050565b82818337600083830152505050565b6000610c998385610c73565b9350610ca6838584610c7e565b82840190509392505050565b6000610cbf828688610c8d565b9150610ccc828486610c8d565b915081905095945050505050565b7f50726f6f6620616c726561647920757365640000000000000000000000000000600082015250565b6000610d10601283610ab2565b9150610d1b82610cda565b602082019050919050565b60006020820190508181036000830152610d3f81610d03565b9050919050565b7f496e76616c6964207a6b564d2070726f6f660000000000000000000000000000600082015250565b6000610d7c601283610ab2565b9150610d8782610d46565b602082019050919050565b60006020820190508181036000830152610dab81610d6f565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610dec82610765565b9150610df783610765565b9250828201905080821115610e0f57610e0e610db2565b5b92915050565b6000606082019050610e2a6000830186610838565b610e376020830185610838565b610e44604083018461076f565b94935050505056fea264697066735822122076b4ab63c510b7ecc1b11a6ae832434b55125d7c701982fb941f9ae500b00b9364736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
